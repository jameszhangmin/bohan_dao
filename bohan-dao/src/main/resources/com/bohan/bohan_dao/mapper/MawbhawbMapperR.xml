<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" 
"http://mybatis.org/dtd/mybatis-3-mapper.dtd">

<mapper namespace="com.mobage.shaoshujue_dao.mapper.CommandMapperR">
  
  <resultMap type="Command" id="command">
  	<id property="id" column="id"/>
  	<result property="alias1" column="alias1"/>
  	<result property="alias2" column="alias2"/>
  	<result property="description" column="description"/>
  	<result property="type" column="type"/>
  	<result property="params" column="params"/>
  	<result property="isVisible" column="is_visible"/>
  	<result property="disabled" column="disabled"/>
  	<result property="createdOn" column="created_on"/>
  	<result property="updatedOn" column="updated_on"/>
  </resultMap>
  
  <select id="getCommandById" parameterType="long" resultMap="command">
    SELECT *
    FROM command
    WHERE id = #{value}
  </select>
  
  <select id="getCommandByAlias1OrAlias2" parameterType="map" resultMap="command">
    SELECT *
    FROM command
    WHERE (alias1 = #{commandText} or alias2 = #{commandText})
    AND disabled = 0
  </select>
  
</mapper>